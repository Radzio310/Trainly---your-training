<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <title>Trainly - Twój panel</title>
    <link
      rel="icon"
      type="image/png"
      href="C:\Users\Radziulek\Desktop\Studia\HTML\Trainly\Grafiki\Trainly-ikonka.svg"
    />
    <meta name="author" content="Radosław Witkowicz" />
    <meta
      name="keywords"
      content="Trainly, trening, ćwiczenia, plan treningowy, zarządzanie treningami"
    />
    <meta
      name="description"
      content="Trainly - aplikacja do zarządzania treningami"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Michroma&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
    />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.9.0/main.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.9.0/main.min.js"></script>
  </head>

  <body>
    <header>
      <ul>
        <li>
          <img
            class="logo"
            id="user_logo"
            src="C:\Users\Radziulek\Desktop\Studia\HTML\Trainly\Grafiki\Trainly-logo.png"
          />
        </li>
        <li><a href="userpage.html" class="current_site">Twój panel</a></li>
        <li><a href="settings.html">Ustawienia</a></li>
        <li><a href="user_contact.html">Kontakt</a></li>
        <li><a href="Trainly.html">Wyloguj</a></li>
      </ul>
    </header>
    <main>
      <div class="sidebar">
        <ul>
          <li>
            <img
              src="Graphics\Kalendarz.png"
              alt="Kalendarz"
              onclick="showContent('kalendarz')"
              id="kalendarz"
            />
          </li>
          <li>
            <img
              src="Graphics\Powiadomienia.png"
              alt="Historia i powiadomienia"
              onclick="showContent('powiadomienia')"
              id="powiadomienia"
            />
          </li>
          <li>
            <img
              src="Graphics\Statystyki.png"
              alt="Statystyki"
              onclick="showContent('statystyki')"
              id="statystyki"
            />
          </li>
          <li>
            <img
              src="Graphics\Lista.png"
              alt="Lista ćwiczeń"
              onclick="showContent('lista')"
              id="lista"
            />
          </li>
        </ul>
      </div>
      <section class="content" id="content">
        <!-- Sekcja na ekranie głównym -->
        <div class="userinfo">
          <br />
          <h2>
            <bold>Witaj Radek!</bold>
          </h2>
          <br />
        </div>
        <p id="currentDate"></p>
        <div id="clock"></div>
        <hr />
        <br />
        <div class="button" id="user_button" onclick="startTraining()">
          Zacznij trening!
        </div>
      </section>
    </main>
    <footer>
      <a href="user_homepage.html"
        ><img
          class="logo"
          src="C:\Users\Radziulek\Desktop\Studia\HTML\Trainly\Grafiki\Trainly-logo_2.png"
      /></a>
      <img
        class="media"
        src="C:\Users\Radziulek\Desktop\Studia\HTML\Trainly\Grafiki\Media.png"
      />
    </footer>
    <script>
      function showContent(section) {
        var content = document.getElementById("content");
        var html = "";

        // W zależności od klikniętego przycisku w sidebarze, generujemy odpowiednią zawartość
        switch (section) {
          case "kalendarz":
            html = "<h2>Kalendarz</h2><div id='calendar'></div>";
            document.getElementById("kalendarz").classList.add("selected");
            document.getElementById("statystyki").classList.remove("selected");
            document.getElementById("lista").classList.remove("selected");
            document
              .getElementById("powiadomienia")
              .classList.remove("selected");
            break;
          case "powiadomienia":
            document.getElementById("powiadomienia").classList.add("selected");
            document.getElementById("statystyki").classList.remove("selected");
            document.getElementById("lista").classList.remove("selected");
            document.getElementById("kalendarz").classList.remove("selected");
            html = "<h2>Powiadomienia</h2>";
            html += generateNotification(
              "Zobacz swoje statystyki za marzec",
              "W sekcji Statystyki są już dostępne Twoje wyniki i osiągnięcia w miesiącu MARZEC!<br>Sprawdź już teraz, aby poprawić jakość swoich treningów"
            );
            html += generateNotification(
              "Zacznij swój trening!",
              "Witaj Radek!<br> Możesz już tworzyć nowe plany treningowe lub stworzyć własną listę ćwiczeń w sekcji Mój Trening lub Lista ćwiczeń<br>Sprawdź już dziś!"
            );
            html += generateNotification(
              "Witaj Nowy Użytkowniku!",
              "Witaj Radek!<br>Nawet nie wiesz jak się cieszymy, że dołączyłeś do społeczności Trainly! Poznaj naszą platformę i przenieś swój trening na wyższy poziom!"
            );
            break;
          case "statystyki":
            html = "<h2>Statystyki</h2>";
            html += "<p>Całkowita liczba treningów: 20</p>";
            html += "<p>Średni czas treningu: 45 minut</p>";
            html += "<p>Spalone kalorie: 1500 kcal</p>";
            html += "<p>Średnia intensywność treningu: Średnia</p>";
            document.getElementById("statystyki").classList.add("selected");
            document.getElementById("kalendarz").classList.remove("selected");
            document.getElementById("lista").classList.remove("selected");
            document
              .getElementById("powiadomienia")
              .classList.remove("selected");
            break;
          case "lista":
            html =
              "<h2>Lista ćwiczeń</h2><p>Tutaj będzie zawartość dla Listy ćwiczeń.</p>";
            document.getElementById("lista").classList.add("selected");
            document.getElementById("statystyki").classList.remove("selected");
            document.getElementById("kalendarz").classList.remove("selected");
            document
              .getElementById("powiadomienia")
              .classList.remove("selected");
            break;
          default:
            html = "<p>Nieznany dział</p>";
        }

        // Wstawiamy wygenerowaną zawartość do sekcji content
        content.innerHTML = html;
      }

      function generateNotification(title, n_content) {
        var notification = document.createElement("div");
        notification.classList.add("notification");
        notification.innerHTML =
          "<strong>" +
          title +
          "</strong><br><span style='display:none;'>" +
          n_content +
          "</span>";
        // Dodajemy zdarzenie kliknięcia tylko do tytułu
        notification.onclick = function () {
          showNotificationContent(title, n_content);
        };
        return notification.outerHTML;
      }

      function showNotificationContent(title, n_content) {
        var notificationContent = document.createElement("div");
        notificationContent.classList.add("notificationContent"); // Użyto spójnej nazwy klasy
        notificationContent.innerHTML =
          "<h2>" + title + "</h2><p>" + n_content + "</p>";
        // Dodajemy powiadomienie do sekcji content
        var content = document.getElementById("content");
        content.appendChild(notificationContent);
        // Wyświetlamy powiadomienie
        notificationContent.style.display = "block";
        // Centrujemy powiadomienie na ekranie
        notificationContent.style.top = "50%";
        notificationContent.style.left = "50%";
        notificationContent.style.transform = "translate(-50%, -50%)";
      }

      function startTraining() {
        // Obsługa przycisku Rozpocznij Trening
        alert("Rozpocznij Trening");
      }

      function updateDate() {
        var currentDate = new Date();
        var options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        };
        document.getElementById("currentDate").textContent =
          currentDate.toLocaleDateString("pl-PL", options);
      }

      // Wywołanie funkcji updateDate po załadowaniu strony
      updateDate();

      // Wywołanie funkcji updateDate co sekundę
      setInterval(updateDate, 1000);

      function updateClock() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();

        // Formatowanie czasu
        hours = hours < 10 ? "0" + hours : hours;
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        // Wyświetlanie czasu w elemencie o id "clock"
        document.getElementById("clock").textContent =
          hours + ":" + minutes + ":" + seconds;
      }

      // Wywołanie funkcji updateClock co sekundę
      setInterval(updateClock, 1000);

      // Wywołanie funkcji updateClock przy załadowaniu strony, aby od razu wyświetliła się aktualna godzina
      updateClock();
    </script>
  </body>
</html>
